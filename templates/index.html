<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kargo Asistanı</title>
    <style>
        body {
            /* Arka plan rengi */
            background-color: #f0f2f5;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* --- BOTU ORTALAMA VE BÜYÜTME SİHRİ --- */
        df-messenger {
            /* Renk Ayarları */
            --df-messenger-bot-message: #e0f2fe;
            --df-messenger-button-titlebar-color: #3b82f6;
            --df-messenger-chat-background-color: #ffffff;
            --df-messenger-font-color: #333;
            --df-messenger-send-icon: #3b82f6;
            --df-messenger-user-message: #dbeafe;

            /* Bot Penceresinin Boyutları */
            --df-messenger-chat-window-height: 600px;
            --df-messenger-chat-window-width: 450px;

            /* Mobilde tam ekran olsun */
            @media (max-width: 768px) {
                --df-messenger-chat-window-height: 100%;
                --df-messenger-chat-window-width: 100%;
            }
        }
    </style>
</head>
<body>

    <!-- Dialogflow Kodunuz (expand="true" EKLENDİ) -->
    <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
    <df-messenger
      intent="WELCOME"
      chat-title="Yardimci-Musteri"
      agent-id="a1e7ef35-1001-4e5f-b46e-3f2b37cb6bff"
      language-code="tr"
      expand="true"
    ></df-messenger>

    <!--
       HİLE: Bot penceresini CSS ile zorla ortalıyoruz.
       Dialogflow'un varsayılan davranışı sağ altta durmaktır.
       Bu script ile onu sayfanın ortasına taşıyoruz.
    -->
    <script>
        // Bot tamamen yüklendiğinde çalışacak fonksiyon
        window.addEventListener('dfMessengerLoaded', function (event) {
            const dfMessenger = document.querySelector('df-messenger');

            if (dfMessenger && dfMessenger.shadowRoot) {
                // Botun içine özel stil enjekte ediyoruz
                const style = document.createElement('style');
                style.textContent = `
                    div.chat-wrapper {
                        position: fixed !important;
                        bottom: 50% !important;
                        right: 50% !important;
                        transform: translate(50%, 50%) !important;
                        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25) !important;
                        border-radius: 12px !important;
                        z-index: 9999 !important;
                    }
                    /* İkonu gizle (çünkü pencere zaten açık) */
                    button#widgetIcon {
                        display: none !important;
                    }

                    /* Mobilde tam ekran */
                    @media (max-width: 768px) {
                        div.chat-wrapper {
                            bottom: 0 !important;
                            right: 0 !important;
                            transform: none !important;
                            width: 100% !important;
                            height: 100% !important;
                            border-radius: 0 !important;
                        }
                    }
                `;
                dfMessenger.shadowRoot.appendChild(style);
            }
        });
    </script>

</body>
</html>